(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{337:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1BAsP",img:"ProfileInfo_img__2oDrC",mainPhoto:"ProfileInfo_mainPhoto__2lunE",contact:"ProfileInfo_contact__1MyAW",containerMain:"ProfileInfo_containerMain__1mpPC",containerInfo:"ProfileInfo_containerInfo__T9nQy",pageName:"ProfileInfo_pageName__27Lpw",savePhoto:"ProfileInfo_savePhoto__v5FER",profileStatus:"ProfileInfo_profileStatus__2fdDB",statusItem:"ProfileInfo_statusItem__2Lr7D",aboutMe:"ProfileInfo_aboutMe__112fA"}},341:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__1mxb2",posts:"MyPosts_posts__3AQG6",blockItem:"MyPosts_blockItem__1kSl0"}},342:function(e,t,a){e.exports={content:"Posts_content__fm5gV",item:"Posts_item__1FH4Y"}},348:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(47),r=a(70),c=a(337),s=a.n(c),i=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(e.status),u=Object(o.a)(i,2),m=u[0],f=u[1];Object(n.useEffect)((function(){f(e.status)}),[e.status]);return l.a.createElement("div",null,!r&&l.a.createElement("div",null,l.a.createElement("b",null,"status"),": ",l.a.createElement("span",{className:s.a.statusItem,onDoubleClick:function(){c(r=!0)}},m||"-----")),r&&l.a.createElement("div",null,l.a.createElement("input",{onChange:function(e){f(e.currentTarget.value)},onBlur:function(){c(r=!1),e.updateStatus(m)},autoFocus:!0,value:m})))},u=a(40),m=a.n(u),f=a(35),p=a(145),b=a(51),E=a.n(b),d=Object(p.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.error,n=e.profile,o=e.savePhoto;return l.a.createElement("form",{onSubmit:t,className:s.a.containerInfo},l.a.createElement("div",null,l.a.createElement("button",null,"Save")),a&&l.a.createElement("div",{className:E.a.formSummaryError},a),l.a.createElement("div",null,l.a.createElement("b",null,"Full name "),": ",Object(f.a)("Full name",[],"fullName",f.b)),l.a.createElement("br",null),l.a.createElement("div",{className:s.a.savePhoto},l.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}})),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("b",null,"Looking for a job "),":",Object(f.a)("",[],"lookingForAJob",f.b,{type:"checkbox"})),l.a.createElement("div",null,l.a.createElement("b",null,"My professional skills"),":",Object(f.a)("write your description",[],"lookingForAJobDescription",f.c)),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts"),": ",Object.keys(n.contacts).map((function(e){return l.a.createElement("div",{key:e,className:s.a.contact},l.a.createElement("b",null,e,": ",Object(f.a)(e,[],"contacts."+e,f.b)))}))),l.a.createElement("div",null,l.a.createElement("b",null,"About me"),": ",Object(f.a)("About me",[],"aboutMe",f.c,null,null,E.a.textareaAboutMe)))})),v=function(e){return l.a.createElement("div",{className:s.a.containerInfo},e.isOwner&&l.a.createElement("div",null,l.a.createElement("button",{onClick:e.goToEditMode},"edit")),l.a.createElement("div",{className:s.a.block},l.a.createElement("b",null,"Looking for a job "),": ",e.profile.lookingForAJob?"yes":"no"),e.profile.lookingForAJob&&l.a.createElement("div",null,l.a.createElement("b",null,"My professional skills"),": ",e.profile.lookingForAJobDescription),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts"),": ",Object.keys(e.profile.contacts).map((function(t){return l.a.createElement(P,{contactTitle:t,contactValue:e.profile.contacts[t],key:t})}))),l.a.createElement("div",{className:s.a.aboutMe},l.a.createElement("b",null,"About me"),": ",e.profile.aboutMe))},P=function(e){var t=e.contactTitle,a=e.contactValue;return l.a.createElement("div",{className:s.a.contact},l.a.createElement("b",null,t),": ",a)},_=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],u=a[1];if(!e.profile)return l.a.createElement(r.a,null);return l.a.createElement("div",null,l.a.createElement("figure",null,l.a.createElement("div",{className:s.a.containerMain},l.a.createElement("img",{src:e.profile.photos.large||m.a,alt:"userPhoto",className:s.a.mainPhoto}),l.a.createElement("div",{className:s.a.pageName},l.a.createElement("h1",null,e.profile.fullName)),l.a.createElement("div",{className:s.a.profileStatus},l.a.createElement(i,{status:e.status,updateStatus:e.updateStatus}))),c?l.a.createElement(d,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){u(!1)}))},savePhoto:e.savePhoto}):l.a.createElement(v,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){u(!0)}})))},g=a(71),h=a(341),k=a.n(h),O=a(342),j=a.n(O),S=function(e){return l.a.createElement("div",{className:j.a.item},l.a.createElement("div",null,e.message,l.a.createElement("span",null," like ")," ",e.likeCounts))},I=a(99),N=a(72),y=Object(p.a)({form:"profileAddPost"})((function(e){return l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",null,l.a.createElement(I.a,{component:f.c,name:"addPost",placeholder:"Add post",validate:[N.c]})),l.a.createElement("div",null,l.a.createElement("button",null,"Add post")))})),M=l.a.memo((function(e){var t=e.posts.map((function(e){return l.a.createElement("div",{className:k.a.posts,key:e.id},l.a.createElement(S,{message:e.message,likeCounts:e.likeCounts}))}));return l.a.createElement("div",{className:k.a.blockItem},l.a.createElement("div",{className:k.a.postsBlock},l.a.createElement("h3",null,"My posts"),l.a.createElement(y,{onSubmit:function(t){e.addPost(t.addPost)}}),t))})),A=a(17),w=Object(A.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:g.a})(M),C=function(e){return l.a.createElement("div",null,l.a.createElement(_,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),e.profile&&l.a.createElement(w,null))},F=a(10),x=a(109),B=a(9),T=a(144),U=a(37);t.default=Object(B.d)(x.a,F.g,Object(A.b)((function(e){return{profile:Object(T.a)(e),status:Object(T.b)(e),authorizedUser:Object(U.c)(e),isAuth:Object(U.a)(e)}}),{getUserProfile:g.c,getUserStatus:g.d,updateUserStatus:g.g,savePhoto:g.e,saveProfile:g.f}))((function(e){var t=Object(n.useCallback)((function(){var t=e.match.params.userId;t||(t=e.authorizedUser)||e.history.push("/login"),e.getUserProfile(t),e.getUserStatus(t)}),[e]);return Object(n.useEffect)((function(){t()}),[e.status,t]),l.a.createElement(C,Object.assign({},e,{profile:e.profile,status:e.status,updateStatus:e.updateUserStatus,isOwner:!e.match.params.userId,savePhoto:e.savePhoto}))}))}}]);
//# sourceMappingURL=4.352ea91e.chunk.js.map